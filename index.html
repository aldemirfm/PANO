<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Fatih Mehmet Aldemir Panosu</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:100%; height:100%; }
body {
  display:flex;
  flex-direction:column;
  font-family:"Segoe UI",Arial,sans-serif;
  background:#f3f6fa;
  overflow:hidden;
}

/* HEADER */
header {
  flex:0 0 10%;
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 20px;
  background: linear-gradient(90deg,#2f26bf, #0D1A36);
  box-shadow:0 2px 4px rgba(0,0,0,0.08);
}
#headerLeft { flex:1; font-size:2em; font-weight:900; color:#fff; text-align:left; }
#headerCenter { flex:0 0 auto; display:flex; justify-content:center; align-items:center; }
#schoolLogo { max-height:500px; max-width:500px; object-fit:contain; }
#headerRight { flex:1; display:flex; align-items:center; justify-content:flex-end; gap:10px; font-family:'Segoe UI',Arial,sans-serif; }
#dayMonth { font-size:3em; font-weight:700; color:#FFFFFF; }
#time { font-size:4em; font-weight:800; color:#FFFFFF; }

/* MAIN GRID */
main {
  flex:1 1 auto;
  display: grid;
  grid-template-columns: 1fr 2fr 1fr;
  grid-template-rows: repeat(3fr 1fr);
  gap: 5px;
  padding: 5px;
  align-items: stretch; /* kutularÄ±n yÃ¼ksekliÄŸini eÅŸitle */
}

/* BOX STYLE */
.box {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch; /* iÃ§eriÄŸi kutuya gÃ¶re hizala */
  text-align: center;
  border-radius: 20px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  padding: 15px;
  font-size: var(--box-font-size,1.5em);
  font-family: var(--box-font-family,'Roboto',sans-serif);
  font-weight: var(--box-font-weight,700);
  color: var(--box-color,#222);
  width: 100%;
  height: 100%; /* kutularÄ±n eÅŸit yÃ¼ksekliÄŸi iÃ§in */
  margin: 0;
  background: linear-gradient(135deg, #eaf4ff, #ffffff);
  border: 1px solid rgba(0,120,255,0.18);
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}
.box:hover { transform:translateY(-6px); box-shadow:0px 12px 24px rgba(0,0,0,0.12); }
/* Kutular iÃ§in baÅŸlÄ±k alanÄ± */
.boxTitle {
  width: 100%;
  text-align: center;
  font-size: 2em;
  font-weight: 900;
  padding-bottom: 8px;
  margin-bottom: 12px;
  border-bottom: 3px solid rgba(255,255,255,0.4);
}

/* BÄ°REYSEL BOX */
/* FOTOÄRAF KUTUSU â€” boyutu sabit kalacak */
/* FOTOÄRAF KUTUSU â€“ yÃ¼ksekliÄŸi sabit kalsÄ±n */
#photoBox {
  position: relative;
  overflow: hidden;
  width: 100%;
  height: 100%;   /* GRIDâ€™in verdiÄŸi yÃ¼ksekliÄŸi kullanÄ±r */
}

/* FOTOÄRAF â€“ kutuyu doldur, kenarlardan kes */
#verseImg {
  position: absolute;     /* â†’ kutuyu bÃ¼yÃ¼tmez */
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;      /* doldur, gerekirse kes */
  object-position: center;
  border-radius: 15px;
  transition: opacity 1s ease-in-out;
}


#nobetci { 
--box-width:100%;
 --box-height:100%;
 --box-font-size:1.4em;
 --box-family:'Arial',sans-serif;
 --box-weight:400;
 --box-color:#3379545;
background: linear-gradient(180deg,#000000,#202d58);}

#nobetciList { text-align: left; }
.nobetPlace { color: #ffd63e;
 font-weight: 700;
 font-size: 1.2em;
 display:inline-block;
 width:120px;
 vertical-align: top; }
.nobetTeacher { color: #ffffff;
 font-size: 1em;
 display:inline-block; }
.nobetRow { margin-bottom: 8px; }


/* KUTU BAÅLIÄI */
#nobetciTitle {
  font-size: 1.1em;
  font-weight: 800;
  color: #ffffff;
}

#centerBox {
  --box-width:100%;
  --box-height:100%;
  --box-font-size:2.1em;
  --box-family:'Arial',sans-serif;
  --box-weight:900;
  --box-color:#FEFEFE;
  background: linear-gradient(0deg, #4903C3, #16013B);
  transition: opacity 0.5s ease;

/* KUTU BAÅLIÄI */
#announcementTitle {
  font-size: 1em;
  font-weight: 800;
  color: #3ffbf1;
}
@keyframes blink {
  0%, 50%, 100% { opacity: 1; }
  25%, 75% { opacity: 0; }
}

/* Duyuru metni yanÄ±p sÃ¶nsÃ¼n */
#announcementText {
  display: flex;
  justify-content: center;  /* yatay ortala */
  align-items: center;      /* dikey ortala */
  text-align: center;
  width: 100%;
  height: 100%;
  animation: blink 3s infinite; /* 3 saniyede bir yanÄ±p sÃ¶n */
}


/* HAVA DURUMU */
#weatherBox {
  --box-width:100%;
  --box-height:100%;
  --box-font-size:1em;
  --box-family:'Arial',sans-serif;
  --box-weight:700;
  --box-color:#0d47a1;
background: linear-gradient(135deg, #3ffbf1, #f9fc46); /* Soft turuncu - beyaz degrade */ }
  display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;
}
/* KUTU BAÅLIÄI */
#weatherBoxTitle {
  font-size: 1.4em;
  font-weight: 800;
  color: #003366;
}
#currentWeather { display:flex; align-items:center; gap:15px; margin-bottom:15px; }
#currentWeather img { width:130px; height:130px; }
.forecast { display:flex; justify-content:space-around; width:100%; }
.forecast .day { display:flex; flex-direction:column; align-items:center; padding:10px; }
.forecast .dayName { font-weight:700; font-size:1.5em; margin-bottom:5px; color:#003366; }
#temp {
  font-family: 'Arial', monospace; /* Ä°stediÄŸin font */
  font-size: 3em;                     /* BÃ¼yÃ¼klÃ¼k */
  font-weight: 900;                     /* KalÄ±nlÄ±k */
  color: #0077cc;                       /* Renk */
}
#desc {
  font-family: 'Segoe UI', sans-serif;  /* Hava aÃ§Ä±klamasÄ± fontu */
  font-size: 1.2em;
  font-weight: 700;
  color: #0d47a1;
}
/* 3 GÃœNLÃœK HAVA DURUMU SICAKLIK FONT AYARI */
#weatherBox .forecast .temp {
  font-size: 1.5em !important;
  font-weight: 700 !important;
  color: red;
}
/* ğŸŒ¤ï¸ HAVA DURUMU Ä°KONLARI ANÄ°MASYON + GLOW */
#weatherBox #weatherIcon,
#weatherBox .forecast img {
  animation: weatherIconMove 3s ease-in-out infinite,
             weatherIconGlow 3s ease-in-out infinite;
  filter: drop-shadow(0 0 10px rgba(0, 140, 255, 0.8));
}

/* Icon yumuÅŸak hareket (yukarÄ±-aÅŸaÄŸÄ±) */
@keyframes weatherIconMove {
  0%   { transform: translateY(0px); }
  50%  { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
}

/* Glow animasyonu */
@keyframes weatherIconGlow {
  0%   { filter: drop-shadow(0 0 6px rgba(0, 140, 255, .5)); }
  50%  { filter: drop-shadow(0 0 22px rgba(0, 140, 255, .95)); }
  100% { filter: drop-shadow(0 0 6px rgba(0, 140, 255, .5)); }

}

/* YKS & LGS */
#examCountdown {
 display:flex; 
flex-direction:row;
justify-content:center; 
align-items:center;
 gap:3px; 
 height: 100%;}
 
/* countdownBox kutusu sabit */
.countdownBox {
  height: 100%;      
  box-sizing: border-box;
  flex:1; 
  min-width:100px; 
  padding:5px; 
  border-radius:20px; 
  display:flex; 
  flex-direction:column; 
  justify-content:center; 
  align-items:center; 
  font-size:1.5em; 
  font-weight:700; 
  color:white; 
  box-shadow:0 5px 15px rgba(0,0,0,0.1);
  background: linear-gradient(0deg, #ff0000,#000000);
}

/* countdownBox baÅŸlÄ±k */
.countdownBox .boxTitle { 
  font-size: 1.2em; 
  font-weight: 800; 
  margin-bottom: 5px; 
  color: white; 
}

.countdownBox .timeValueText {
  font-size:0.7em; 
  font-weight:800; 
}
.countdownBox .timeValueNum {
  font-size:1.5em;
  font-weight:900;
  color:#00ff00; /* sayÄ± rengi */
}
#yksBox .timeValueNum {
  color: #00ff00;       /* sayÄ± rengi */
  animation: blink 3s infinite;  /* 1 saniyede bir yanÄ±p sÃ¶ner */
  font-size: 2em;
  font-weight: 900;
}
/* LGS kutusundaki sayÄ±lar */
#lgsBox .timeValueNum {
  color: #00ff00;       /* sayÄ± rengi */
  animation: blink 3s infinite;  /* 1 saniyede bir yanÄ±p sÃ¶ner */
  font-size: 2em;
  font-weight: 900;
}
@keyframes blink {
  0%, 50%, 100% { opacity: 1; }
  25%, 75% { opacity: 0.7; }
}

/* DUYURU BAÅLIÄI */
.boxTitle {
  width: 100%;
  text-align: center;
  font-size: 1em;
  font-weight: 900;
  padding-bottom: 10px;
  margin-bottom: 15px;
  border-bottom: 3px solid rgba(255,255,255,0.4);
  color: #3ae40e;
}
/* MENU */
#menuBox { 
grid-column:3; 
grid-row:2; 
--box-width:100%; 
--box-height:100%; 
--box-font-size:2.5em; 
--box-family:'Roboto'; 
--box-weight:700; 
--box-color:#222; 
--box-text-align:left;
background: linear-gradient(0deg, #3ae40e,#3ae40e, #000000);
#menuList {
  display: flex;
  justify-content: center;  /* yatay ortala */
  align-items: center;      /* dikey ortala */
  text-align: center;
  width: 100%;
  height: 100%;
}

/*KUTU BAÅLIÄI */
#menuTitle {
  font-size: 1em;
  font-weight: 800;
  color: #ffffff;
}
/* MARQUEE */
#marquee {
  flex: 0 0 auto;                  /* yÃ¼ksekliÄŸi iÃ§eriÄŸe gÃ¶re ayarla */
  min-height: 70px;                 /* minimum yÃ¼ksekliÄŸi garantiye alÄ±r */
  max-height: 15vh;                 /* ekran yÃ¼ksekliÄŸine gÃ¶re sÄ±nÄ±rlama */
  background: #003366;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  font-size: calc(3vw + 1em);       /* ekran geniÅŸliÄŸine gÃ¶re font boyutu */
  font-weight: 800;
  letter-spacing: 2px;
  position: relative;               /* span iÃ§in referans */
}

#marquee span {
  position: absolute;
  white-space: nowrap;
  animation: scrollText 12s linear infinite;
}

/* KaydÄ±rma animasyonu */
@keyframes scrollText {
  from { left: 100%; }
  to { left: -100%; }
}

/* DUYURU YAZISI SPAN */
#announcementText {
  transition: opacity 0.5s ease;
  display: inline-block;
}
</style>
</head>
<body>

<header>
  <div id="headerLeft">FATÄ°H MEHMET ALDEMÄ°R<br>PANOSU</div>
  <div id="headerCenter"><img src="okul_logo.png" alt="Okul Logosu" id="schoolLogo"></div>
  <div id="headerRight">
    <span id="dayMonth"></span>
    <span id="time"></span>
  </div>
</header>

<main>
<div class="box" id="nobetci">
  <div class="boxTitle" id="nobetciTitle">NÃ–BETÃ‡Ä° Ã–ÄRETMENLER</div>
  <div id="nobetciList">YÃ¼kleniyor...</div>
</div>

<div class="box" id="centerBox">
  <div class="boxTitle" id="announcementTitle">DUYURULAR</div>
  <span id="announcementText">DUYURU METNÄ° BURAYA GELECEK</span>
</div>

 <!-- FOTOÄRAF -->
<div class="box" id="photoBox" style="grid-column:2; grid-row:2;">
  <div class="boxTitle">FOTOÄRAF</div>
  <img id="verseImg" alt="FotoÄŸraf">
</div>

<div class="box" id="weatherBox">
  <div class="boxTitle" id="weatherBoxTitle">HAVA DURUMU</div>
  <div id="currentWeather">
    <img id="weatherIcon" src="" alt="icon">
    <div>
      <div id="temp">--Â°C</div>
      <div id="desc">YÃ¼kleniyor...</div>
    </div>
  </div>
  <div class="forecast">
    <div class="day"><div class="dayName">--</div><div class="temp">--Â°C</div></div>
    <div class="day"><div class="dayName">--</div><div class="temp">--Â°C</div></div>
    <div class="day"><div class="dayName">--</div><div class="temp">--Â°C</div></div>
  </div>
</div>

  <div class="box" id="examCountdown">
    <div class="countdownBox" id="yksBox">
      <div class="boxTitle">YKS</div>
      <div class="timeValueNum" id="yksCountdownNum">--</div>
      <div class="timeValueText">GÃœN</div>
      <div class="timeValueNum" id="yksCountdownHour">--</div>
      <div class="timeValueText">SAAT</div>
    </div>
    <div class="countdownBox" id="lgsBox">
      <div class="boxTitle">LGS</div>
      <div class="timeValueNum" id="lgsCountdownNum">--</div>
      <div class="timeValueText">GÃœN</div>
      <div class="timeValueNum" id="lgsCountdownHour">--</div>
      <div class="timeValueText">SAAT</div>
    </div>
  </div>

<div class="box" id="menuBox">
  <div class="boxTitle" id="menuTitle">YEMEK LÄ°STESÄ°</div>
  <div id="menuList">YÃ¼kleniyor...</div>
</div>
</main>

<!-- Marquee -->
<div id="marquee"><span>AHMED Ä°SLAMOÄLU ANADOLU Ä°MAM HATÄ°P LÄ°SESÄ°</span></div>

<style>
/* Marquee / Kayan YazÄ± */
#marquee {
  flex: 0 0 9%;
  min-height: 70px;           /* normal modda gÃ¶rÃ¼nmesini garantiye alÄ±r */
  background: #003366;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  font-size: 5em;              /* fontu biraz kÃ¼Ã§Ã¼lttÃ¼k */
  font-weight: 800;
  letter-spacing: 2px;         /* daha iyi sÄ±ÄŸmasÄ± iÃ§in azaltÄ±ldÄ± */
  position: relative;           /* span iÃ§in referans */
}

#marquee span {
  position: absolute;
  white-space: nowrap;
  animation: scrollText 12s linear infinite;
}

@keyframes scrollText {
  from { left: 100%; }
  to { left: -100%; }
}
</style>



<script>
// TAM EKRAN
function enableFullScreen() {
  const elem = document.documentElement;
  if (elem.requestFullscreen) elem.requestFullscreen();
  else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
  else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
}
window.addEventListener("click", enableFullScreen);

// TARÄ°H & SAAT
function updateDateTime() {
  const now = new Date();
  const days = ["Pazar","Pazartesi","SalÄ±","Ã‡arÅŸamba","PerÅŸembe","Cuma","Cumartesi"];
  const months = ["Ocak","Åubat","Mart","Nisan","MayÄ±s","Haziran","Temmuz","AÄŸustos","EylÃ¼l","Ekim","KasÄ±m"];
  
  const dayName = days[now.getDay()];
  const dateNum = now.getDate();
  const monthName = months[now.getMonth()];
  const hours = now.getHours().toString().padStart(2,"0");
  const minutes = now.getMinutes().toString().padStart(2,"0");
  
  document.getElementById("dayMonth").innerText = `${dayName}, ${dateNum} ${monthName}`;
  document.getElementById("time").innerText = `${hours}:${minutes}`;
}
setInterval(updateDateTime, 1000);
updateDateTime();

// YKS & LGS
function countdown(target, numEl, hourEl) {
  const now = new Date();
  const diff = target - now;
  const days = Math.floor(diff / (1000*60*60*24));
  const hours = Math.floor((diff / (1000*60*60)) % 24);
  document.getElementById(numEl).innerText = days;
  document.getElementById(hourEl).innerText = hours;
}
setInterval(()=>{
  countdown(new Date("2026-06-20"), "yksCountdownNum","yksCountdownHour");
  countdown(new Date("2026-06-01"), "lgsCountdownNum","lgsCountdownHour");
}, 1000);

// HAVA DURUMU
async function loadWeather() {
  const apiKey = "c5155ad22a417a8b1068985b43425bb3";
  const city = "Develi,TR";

  try {
    const currentRes = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric&lang=tr`);
    const currentData = await currentRes.json();
    document.getElementById("temp").innerText = Math.round(currentData.main.temp) + "Â°C";
    document.getElementById("desc").innerText = currentData.weather[0].description.toUpperCase();
const iconMap = {
  Clear: "sunny.png",
  Clouds: "cloudy.png",
  Rain: "rainy.png",
  Snow: "snowy.png",
  Drizzle: "drizzle.png",
  Thunderstorm: "thunderstorm.png"
};

const weatherMain = currentData.weather[0].main; // OpenWeather main durumu
const iconFile = iconMap[weatherMain] || "sunny.png"; // default ikon
document.getElementById("weatherIcon").src = "icons/weather/" + iconFile;

  } catch {
    document.getElementById("temp").innerText = "--";
    document.getElementById("desc").innerText = "âŒ Veri alÄ±namadÄ±";
  }

  try {
    const forecastRes = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${apiKey}&units=metric&lang=tr`);
    const forecastData = await forecastRes.json();
    const daysMap = ["Paz","Pzt","Sal","Ã‡ar","Per","Cum","Cts"];
    const dailyForecast = [];
    const addedDates = new Set();

    for (let item of forecastData.list) {
      const date = new Date(item.dt_txt);
      const dateKey = date.getFullYear() + "-" + (date.getMonth()+1) + "-" + date.getDate();
      if (!addedDates.has(dateKey)) {
        addedDates.add(dateKey);
        dailyForecast.push({
          dayName: daysMap[date.getDay()],
          temp: Math.round(item.main.temp)
        });
      }
      if (dailyForecast.length >= 3) break;
    }

    const forecastContainer = document.querySelector("#weatherBox .forecast");
    forecastContainer.innerHTML = dailyForecast.map(d => `
      <div class="day">
        <div class="dayName">${d.dayName}</div>
        <div class="temp">${d.temp}Â°C</div>
      </div>
    `).join("");

  } catch {
    document.querySelector("#weatherBox .forecast").innerHTML = "<div style='color:red'>âŒ Veri alÄ±namadÄ±</div>";
  }
}
loadWeather();

function updateWeatherHourly() {
  const now = new Date();
  const delay = (60 - now.getMinutes())*60*1000 - now.getSeconds()*1000;
  setTimeout(() => {
    loadWeather();
    setInterval(loadWeather, 3600000);
  }, delay);
}
updateWeatherHourly();

// NÃ–BETÃ‡Ä° Ã–ÄRETMEN
const sheetURL = "https://docs.google.com/spreadsheets/d/1oF2cT3UkMBW4c2PgVIsncCYfHV1dJeoB_fS68c8pU1c/gviz/tq?tqx=out:json&gid=0";

function loadDutyTeachers() {
  fetch(sheetURL)
    .then(res => res.text())
    .then(text => {
      const json = JSON.parse(text.substring(text.indexOf("{"), text.lastIndexOf("}") + 1));
      const rows = json.table.rows;

      const days = [null,"PAZARTESÄ°","SALI","Ã‡ARÅAMBA","PERÅEMBE","CUMA",null];
      const today = days[new Date().getDay()];

      const headers = rows[0].c.map(h => h?.v?.toString().toUpperCase() || "");
      const colIndex = headers.indexOf(today);
      if(colIndex === -1) {
        document.getElementById("nobetciList").innerHTML = "âŒ BugÃ¼n yok";
        return;
      }

      let output = "";

      for (let i = 1; i < rows.length; i++) {
        const place = rows[i].c[0]?.v || "";
        const teacherCell = rows[i].c[colIndex]?.v || "";
        if (!place && !teacherCell) continue;

        const teachers = teacherCell.split("\n").filter(t => t.trim() !== "");

        output += `<div class="nobetRow">`;
        if(place) output += `<span class="nobetPlace">${place}:</span> `;
        if(teachers.length) {
          output += `<span class="nobetTeacher">`;
          teachers.forEach(t => {
            output += `${t}<br>`;
          });
          output += `</span>`;
        }
        output += `</div>`;
      }

      document.getElementById("nobetciList").innerHTML = output || "BUGÃœN NÃ–BET YOK";
    })
    .catch(err => {
      console.error(err);
      document.getElementById("nobetciList").innerHTML = "âŒ Veri alÄ±namadÄ±";
    });
}

loadDutyTeachers();
setInterval(loadDutyTeachers, 30000);




// DUYURULAR
const announcementSheetURL="https://docs.google.com/spreadsheets/d/114FVDdj4yqfaHVaEHVS5-jQwLEdwVpEBYNF-43354og/gviz/tq?tqx=out:json&gid=0";
let announcements=[],currentIndex=0;
const centerBox=document.getElementById("centerBox");

function loadAnnouncements(){
  fetch(announcementSheetURL).then(res=>res.text()).then(text=>{
    const json=JSON.parse(text.substring(47,text.length-2));
    const rows=json.table.rows;
    announcements=rows.map(r=>r.c[1]?.v||"").filter(x=>x);
const textSpan = document.getElementById("announcementText");
if(textSpan) textSpan.innerText = announcements.length > 0 ? announcements[0] : "DUYURU YOK";
  }).catch(()=>centerBox.innerHTML=`<span id="announcementText">âŒ Veri alÄ±namadÄ±</span>`);
}
loadAnnouncements();
setInterval(loadAnnouncements,30000);


// YEMEK LÄ°STESÄ°
const menuSheetURL="https://docs.google.com/spreadsheets/d/1ps4RgDTOscAE8FVLU0mWl9hJpnK2XEMlHa8C7c7e9pw/gviz/tq?tqx=out:json&gid=0";
function loadMenu(){
  fetch(menuSheetURL).then(res=>res.text()).then(text=>{
    const json = JSON.parse(text.substring(47,text.length-2));
    const rows = json.table.rows;
    let todayIndex = new Date().getDay();
    if(todayIndex===0) todayIndex=1;
    let output = rows[todayIndex]?.c[1]?.v || "Yemek listesi yok";
    output = output.split("\n").join("<br>");
    document.getElementById("menuList").innerHTML = output;
  }).catch(()=>document.getElementById("menuList").innerHTML="âŒ Yemek listesi alÄ±namadÄ±");
}
loadMenu();
setInterval(loadMenu,3600000);

// FOTOÄRAF SLAYT (GOOGLE DRIVE)
const images = [
    "https://imgur.com/el2GZuI.jpeg", 
    "https://i.imgur.com/mAzK4Xb.jpeg", 
	"https://i.imgur.com/nebkmLH.jpeg", 
];


let index = 0;
const verseImg = document.getElementById("verseImg");
verseImg.src = images[index];

setInterval(() => {
Â  verseImg.style.opacity = 0;
Â  setTimeout(() => {
Â  Â  index = (index + 1) % images.length;
Â  Â  verseImg.src = images[index];
Â  Â  verseImg.style.opacity = 1;
Â  }, 500);
}, 5000);
</script>
</body>
</html>
